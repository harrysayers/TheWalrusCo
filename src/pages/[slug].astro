---
import Layout from '../layouts/Layout.astro';
import { stories } from '../../stories.js';
import { SEO } from 'astro-seo';

export function getStaticPaths() {
  return stories.map((story) => ({
    params: { slug: story.id },
    props: { story },
  }));
}

const { story } = Astro.props;
---

<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width" />
    <meta name="generator" content={Astro.generator} />
    <SEO
      title={story.title}
      description={story.description}
      openGraph={{
        basic: {
          title: story.title,
          type: "article",
          image: story.image,
          url: `https://thewalrusco.com${story.url}`
        }
      }}
      twitter={{
        creator: "@thewalrusco"
      }}
      extend={{
        link: [{ rel: "icon", type: "image/svg+xml", href: "/favicon.svg" }],
        meta: [
          { name: "twitter:title", content: story.title },
          { name: "twitter:description", content: story.description },
          { name: "twitter:image", content: story.image },
        ],
      }}
    />
  </head>
  <body>
    <h1>{story.title}</h1>
    <p>{story.description}</p>
    <img src={story.image} alt={story.title} />
  </body>
</html>

<style>
  html,
  body {
    margin: 0;
    width: 100%;
    height: 100%;
    background-color: #181A1E;
    font-family: 'Roboto Variable', sans-serif;
    color: #fff;
  }
</style>